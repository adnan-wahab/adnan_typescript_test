**API**: http://vitally-test.herokuapp.com/events

Note that if the API takes a bit to load, that's because Heroku feel asleep. Once you wake it up, it should stay awake for awhile.

## Overview
You have access to [a JSON API](http://vitally-test.herokuapp.com/events) that returns a dynamic dataset of Mixpanel events generated by users within customers of a SaaS product. By dynamic, I mean that API calls will not return the same results - each API call returns a variable number of events generated by a variable number of users within a variable number of customers.

The format of the response is pretty intuitive. Each event has 4 fields:
- id: A UUID for the event
- user: An object representing the user that generated the event with a ``customer`` field (see below)
- event: The name of the event
- date: The date the event was generated

Here is an example event:
```json
{
  "id": "2d671bbe-1245-4637-b7ee-c56b1a926eba",
  "event": "Asked Question",
  "date": "2020-01-01",
  "user": {
    "id": "d0ab7ee9-1d96-42eb-b17b-d411e5e7c1a7",
    "name": "Jennie Batz",
    "title": "Direct Brand Coordinator",
    "email": "jennie.batz@schambergerborer.info",
    "location": "New Jersey",
    "customer": "Choice Hotels"
  }
}
```

The goal of this exercise is to calculate the **Contributor Percentage** for customers. The **Contributor Percentage** is defined as the percentage of users for a customer that generated any of these 4 events during a 30-day timeframe:
- "Asked Question"
- "Answered Question"
- "Shared Course"
- "Created Path"

For example, if a customer had 300 users at the end of June, and 30 different users did at least one of the above 4 events in the month of June, then that customer's **Contributor Percentage** for June would be **10%**. Note that there are more than these 4 events in the output, which is why this metric is useful.

## Instructions
Create an API that takes a date in the format YYYY-MM-DD and returns the contributor percentage for each customer for the 30 days ending with the given date, sorted from highest to lowest. The API should run locally on port 5000 and take the date as a `date` query parameter. The response should be a JSON array containing the customers that existed on the given date and their contributor percentage.

### Input
Your server should run on port 5000 and respond to `GET /contributorPercentage` requests:

```http://localhost:5000/contributorPercentage?date=2020-01-01```

Your API should call the provided API above. When it has a response, it should calculate the contributor percentage for the given dataset. You should request a new dataset from the provided API on each API request and re-calculate results based exclusively on that new dataset.

### Output
Your server should respond with a JSON array containing objects with two keys: `customer`, whose value is the name of the customer, and `contributorPercentage`, whose value is the contributor percentage for the 30 days ending with the given date. You should return an object for every customer that existed on the provided day:

```json
[
  { "customer": "Walmart", "contributorPercentage": .07 },
  { "customer": "Twitter", "contributorPercentage": .03 },
  { "customer": "Google", "contributorPercentage": 0 },
]
```

Order customers in the table in descending order of their Contributor Percentage - i.e. the first customer in the array should have the highest Contributor Percentage for the month, the last the lowest.

## Notes
- Assume all users for the customer are represented by the returned dataset. Assume that a user only exists at the moment their earliest event is seen. For example, if John Smith has events on 2016-6-1, 2016-7-16, and 2016-12-12, then John wasn't a user until June 1, 2016.
- Also assume a customer only exists at the moment of an earliest event generated by a user of that customer. For example, if John belongs to Twitter and John's event on 2016-6-1 is the first ever event by a Twitter user, then Twitter wasn't a customer until June 1, 2016
- The response should only list customers that existed on or before the entered date
- Use either Javascript or Typescript
- Use only the libraries that we've provided for you or similar libraries. For example, you can replace Express with Hapi or Koa, but we'd prefer you not use lodash for this exercise. Just reach out if you have any questions here
- You should be able to call the API from the client without the need for any headers (in fact, unnecessary headers might cause problems). CORS is setup, so you shouldn't need an actual backend. However, it's actually a bit tricky to setup a fully unsecure API :) If you run into any issues you think are on our end, please let us know ASAP

## Submission
- Please open a PR in the Github repo when done. Your PR should include everything in a ``src`` folder and should include everything we need to run your React app locally. Basically, we should be able to pull your branch down and [fire up a local Python web server](https://superuser.com/questions/878025/the-easiest-way-to-serve-a-page-to-localhost-on-os-x) to use your app.
- Bonus: A test suite that showcases expected results. Please include instructions on how to execute your test suite if included.

Finally, if you have any other questions or issues arise, please let us know. We've tried to ensure we have everything functional, but this challenge hasn't yet been fully battle-tested.

## Typescript Framework
This repo contains a basic Typescript framework for the server described above.


* If you don't have them, you'll need to install:
   - [Node 8](https://nodejs.org/dist/latest-v8.x/) or [Node 10](https://nodejs.org/dist/latest-v10.x/)
   - [Yarn](https://yarnpkg.com/en/docs/install)
* To build the Typescript project:
   - `yarn run build`
   - or `yarn run build:watch` to run the Typescript compiler in 'watch' mode
* To start the local server:
   - `yarn run start`
* To run the test suite:
   - `yarn run test`

